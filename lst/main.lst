C51 COMPILER V9.01   MAIN                                                                  03/20/2024 01:22:19 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\obj\main.obj
COMPILER INVOKED BY: D:\MyProgrammeSetUp\KEILC51\C51\BIN\C51.EXE src\app\main.c LARGE BROWSE INCDIR(..\final_projects;.\
                    -src;.\src\app;.\src\drive;.\src\include) DEBUG OBJECTEXTEND PRINT(.\lst\main.lst) OBJECT(.\obj\main.obj)

line level    source

   1          #include"uart.h"
   2          #include"ds18b20.h"      //¼ì²âÎÂ¶ÈµÄÐ¾Æ¬
   3          #include"lcd1602.h"  //lcdÏÔÊ¾ÆÁµÄÐÍºÅ
   4          #include"ds1302.h"       //ÊµÊ±Ê±ÖÓÐ¾Æ¬
   5          #include"buzzer.h"       //·äÃùÆ÷
   6          #include"motor.h"       //²½½øµç»ú
   7          #include"key4_4.h"      //4*4µÄ¾ØÕó¼üÅÌ
   8          #include"ir.h"          //ºìÍâ½ÓÊÕÆ÷
   9          
  10          #include"adjustMode.h"  //ÖÐ¼ä²ãº¯Êý£¬µ÷Õû¹â±êÉÁË¸Óë·ñ
  11          
  12          void keyEventHandler_delay400ms(void)   //Îó²î 0us
  13          {
  14   1         unsigned char a,b,c;
  15   1          for(c=31;c>0;c--)
  16   1              for(b=176;b>0;b--)
  17   1                  for(a=28;a>0;a--);
  18   1      }
  19          
  20          void mydelay900ms(void)   //Îó²î 0us
  21          {
  22   1          unsigned char a,b,c;
  23   1          for(c=119;c>0;c--)
  24   1              for(b=216;b>0;b--)
  25   1                  for(a=16;a>0;a--);
  26   1      } 
  27          
  28          void delay500us(void)   //Îó²î 0us
  29          {
  30   1          unsigned char a,b;
  31   1          for(b=80;b>0;b--)
  32   1              for(a=180;a>0;a--);
  33   1      }
  34          
  35          
  36          
  37          
  38          void main(){
  39   1      unsigned char uart_receive = 0;
  40   1      unsigned char DU[3] = {0xdf,'C'};
  41   1      unsigned  int keyvalue = 0;
  42   1      unsigned char oldIRvalue = 0;
  43   1      
  44   1      struct allTime startTimeSet = {2024, 4, 22, 7, 40, 45, 1};
  45   1      
  46   1      /*
  47   1      ¡¾ÏîÄ¿¹¦ÄÜËµÃ÷¡¿
  48   1      1.lcd1602ÏÔÊ¾Ê±¼ä»¹ÓÐÎÂ¶È
  49   1      2.ÓÃ»§×Ô¶¨ÒåÎÂ¶ÈãÐÖµ²¢ÇÒÏÔÊ¾£¬³¬¹ýãÐÖµ·äÃùÆ÷±¨¾¯
  50   1      3.Ê±¼äµ÷Õû(Ôö¼õ)
  51   1      
  52   1      -----------------------------------
  53   1      ËµÃ÷£º
  54   1      1.µÚÒ»ÐÐÊÇÏÔÊ¾ÎÂ¶È»¹ÓÐ±¨¾¯ãÐÖµ±ÈÈç£ºT:23.6 Y:39.0
C51 COMPILER V9.01   MAIN                                                                  03/20/2024 01:22:19 PAGE 2   

  55   1      2.µÚ¶þÐÐÏÔÊ¾Ê±¼ä£¬¸ñÊ½ÊÇ23-04-23 16:23|5
  56   1      3.³£¹æÄ£Ê½ÏÂÊÇÃ»ÓÐ¹â±êµÄ£¬µ«ÊÇÔÚµ÷ÕûÄ£Ê½ÏÂÊÇÓÐ¹â±êµÄ£¬³£¹æÄ£Ê½µÄ½øÈëµ÷ÕûÄ£Ê½ÊÇ°´¼üÊÇ4*4¼üÖµÎª1µÄ°´¼ü£¬ÔÙ°´
             -Ò»ÏÂ¾ÍÇÐ»»³£¹æÄ£Ê½¡£Ò»µ©½øÈëµ÷ÕûÄ£Ê½£¬ËùÓÐÏÔÊ¾µÄÄÚÈÝÊÇ²»±äµÄ£¬Ö»ÓÐÇÐ»ØÕý³£Ä£Ê½²Å»áÓ¦ÓÃºó±ä»¯¡£
  57   1      4.4*4¼üÅÌÓÐËÄ¸ö¼ü¿ØÖÆ¹â±êÉÏÏÂ×óÓÒÒÆ¶¯£¬µ÷ÕûÄ£Ê½ÏÂ¹â±êÉÁË¸ÔÚÄÄ¸öµØ·½¾ÍÊÇÒªµ÷½Ú¸Ã´¦µÄÄÚÈÝ£¬°´ÏÂ¼Ó»òÕß¼õ»á Ôö
             -¼Ó»òÕß¼õÉÙÕâ¸öÊý×Ö
  58   1      */ 
  59   1      /*
  60   1              //²âÊÔ´®¿Ú------>Õý³£
  61   1              uart_init();
  62   1              uart_send_byte('X');
  63   1              uart_send_string("÷Ò÷ÑShabbywindows");
  64   1      */
  65   1      
  66   1      //--------------------------------------------------------------------------------------------------------
             -------------------------------------------------------
  67   1              
  68   1      /*
  69   1              //²âÊÔÎÂ¶ÈÏÔÊ¾º¯Êý ------¡·Õý³£
  70   1      Óöµ½µÄÎÊÌâÊÇ·µ»ØµÄÎÂ¶ÈÊÇdoubleÀàÐÍµÄ£¬µ«ÊÇ²»ºÃÔÚÎÒÃÇµÄ´®¿Úµ÷ÊÔÖúÊÖÉÏÏÔÊ¾£¬ÒòÎªÉÏÃæÖ»ÄÜÏÔÊ¾Ê®Áù½øÖÆ»òÕß±¾ÎÄ
             -ÐÎÊ½£¬Ë¼Â·¾ÍÊÇÓÃ¡¾ÎÄ±¾¡¿ÏÔÊ¾£¬±ÈÈçuart_send_byte("25.4")
  71   1      ËùÒÔÖ»Òª½«double×ª³Éstring¾ÍÐÐ 1.×Ô¼ºÐ´×ª»»º¯Êý£¨ÓÃµÄÊÇÕâ¸ö£©  2.µ÷ÓÃ¿âº¯Êý 
  72   1              
  73   1              uart_init();
  74   1              uart_send_double2string(Ds18b20ReadDecimalTemperature()); 
  75   1              uart_send_string("¶È.");
  76   1      */
  77   1      
  78   1      //--------------------------------------------------------------------------------------------------------
             -------------------------------------------------------
  79   1      
  80   1      
  81   1      
  82   1       /*     //²âÊÔlcd1602  ---¡·Õý³£
  83   1      
  84   1              InitLCD1602(); 
  85   1              LCDshowStr(0,0,"Temp:"); //ÕâÐÐºÍÏÂÒ»ÐÐ¶¼ÊÇ¹Ì¶¨µÄ£¬ËùÒÔÐ´ÔÚÑ­»·Íâ±ß
  86   1              LCDshowStr(11,0,DU);
  87   1              while(1){
  88   1              for(mycount=200;mycount>0;mycount--);
  89   1              lcdshowDouble2Str(5,0,Ds18b20ReadDecimalTemperature());
  90   1              }
  91   1      */
  92   1      //--------------------------------------------------------------------------------------------------------
             -------------------------------------------------------
  93   1      
  94   1      
  95   1      /*
  96   1              //²âÊÔÊµÊ±Ê±ÖÓds1302 ---¡·Õý³£
  97   1              Ò»¸ö¸´ÔÓµÄÊ±¼ä±äÁ¿¶Á³öÀ´µÄÊÇÄê+ÔÂ+ÈÕ+Ê±·ÖÃë+ÖÜ¼¸£¬Òò´ËÓÃ½á¹¹ÌåÈ¥°üÀ¨ÕâÃ´¶à¸´ÔÓ±äÁ¿ÒÔÏÔÊ¾
  98   1                
  99   1              struct allTime test = {2024, 4, 22, 7, 40, 45, 1};
 100   1              InitLCD1602(); 
 101   1              LCDshowStr(0,0,"Temp:"); //ÕâÐÐºÍÏÂÒ»ÐÐ¶¼ÊÇ¹Ì¶¨µÄ£¬ËùÒÔÐ´ÔÚÑ­»·Íâ±ß
 102   1              LCDshowStr(11,0,DU);
 103   1              
 104   1              ds1302_write_time_struct(test);//ÉèÖÃÊ±¼ä
 105   1              
 106   1              while(1){
 107   1              //µÚÒ»ÐÐ¶ÁÈ¡ÎÂ¶È²¢ÏÔÊ¾ 
 108   1              delay500us();
 109   1              lcdshowDouble2Str(5,0,Ds18b20ReadDecimalTemperature()); 
 110   1              ds1302_read_time_struct(); //¶Á³öÀ´µÄÊý¾ÝÊÇ½á¹¹ÌåÀàÐÍ´æ´¢µÄ
C51 COMPILER V9.01   MAIN                                                                  03/20/2024 01:22:19 PAGE 3   

 111   1              //lcdshowStruct(0,1,mytime);
 112   1      
 113   1              lcdshowStruct2(0,1,mytime);//µÚ¶þÐÐÕ¹Ê¾Ê±¼ä
 114   1              }  
 115   1      */
 116   1      
 117   1      /*
 118   1              //²âÊÔbuzzer-----¡·Õý³£
 119   1          //µ¥¶À¼ÓÁË¼¸¸öº¯Êý¾ÍÊÇ¿ÉÒÔ¿ØÖÆbuzzerµÄÃù½Ð¿ªÊ¼ºÍ½áÊø£¬»¹ÓÐ¿ÉÒÔÓÐÒ»¸öº¯Êý¿ØÖÆÕâ¸ö·äÃùÆ÷µÄÆµÂÊ
 120   1      
 121   1                      buzzer_init();  //³õÊ¼»¯ÏÈ²»¸øÕâ¸ö·äÃùÆ÷½Ð£¬³õÊ¼»¯µÄÆµÂÊÊÇ1khz
 122   1                      buzzer_start();
 123   1                      mydelay900ms();
 124   1                      buzzer_stop();
 125   1      
 126   1                      buzzer_freq_set(10);//¸ü¸ÄÆµÎª10
 127   1                      buzzer_start();
 128   1                      mydelay900ms();
 129   1                      buzzer_stop();
 130   1      */
 131   1      /*
 132   1              //²âÊÔmotor---->Õý³£
 133   1      
 134   1              //×¢Òâ±¾¿ª·¢°åµÄ²½½øµç»úµÄÏîÄ¿ÐèÒªµÄÐ¾Æ¬ÊÇ¿ª·¢°åÉÏµÄËÄÏàË«¼«ÐÔ²½½øµç»úÐ¾Æ¬£¬
 135   1              //ÏÈ°Ñgpio½Óµ½Õâ¸öÐ¾Æ¬µÄËÄ¸öin¿Ú£¬ÔÙÓÉÕâ¸öÐ¾Æ¬µÄËÄ¸öout¿ÚºÍÎÒÃÇµÄ²½½øµç»úÏàÁ¬
 136   1               motor_run_alert();
 137   1      */
 138   1      
 139   1      /*
 140   1              //²âÊÔ4*4¾ØÕó¼üÅÌ   ------->Õý³£        
 141   1      
 142   1              
 143   1              InitLCD1602();
 144   1              LCDshowStr(0,0,"key is:");
 145   1              
 146   1              while(1){
 147   1                      keyvalue = getKeyValue(); 
 148   1                      if(keyvalue!=0)
 149   1                               if(keyvalue>10){
 150   1                                 lcdshowInt2Str(0,1,keyvalue); 
 151   1                               } else{
 152   1                                      InitLCD1602();
 153   1                                      LCDshowStr(0,0,"key is:");
 154   1                                      lcdshowInt2Str(0,1,keyvalue); // Ð´ÕâÃ´³¤ÊÇÒòÎªµ±Ò»¿ªÊ¼ÏÔÊ¾14£¬Èç¹ûÕâ¸öÊ±ºò°´µÄÊÇ7»áÏÔÊ¾£¬74£¬Ò²¾ÍÊÇËµ
             -Ò»¿ªÊ¼°´µÄÊÇ¶þÎ»Êý£¬µÚ¶þÎ»»áÔÝ´æ£¬Òò´ËÐèÒªÅÐ¶ÏÖØÐÂ³õÊ¼»¯
 155   1                               }
 156   1                              
 157   1              }                       
 158   1      */      
 159   1      
 160   1      /*
 161   1              //²âÊÔIRÊÇ²»ÊÇÕý³£µÄ ------->Õý³£
 162   1      
 163   1              //ÓÉÓÚ°´¼ü°´ÏÂÈ¥½»ÓÉµ¥Æ¬»ú´¦ÀíµÄÊ±ºòÓÃÖÐ¶ÏµÄ·½Ê½½ÓÊÕ°´¼üµÄ¼üÖµ´¦ÀíÊ±¼äÌØ±ð³¤£¬¿ÉÄÜ»á¸ÉÈÅµ½±ðµÄÖÐ¶Ï´¦Àí´¦À
             -í³ÌÐòµ¼ÖÂ½á¹û²»¶Ô
 164   1              ½â¾ö°ì·¨&Ë¼Â·£º
 165   1              1.ÖÐ¶Ï»¹Òª²»Òª£¿Òª£¬ÂÖÑ¯Ì«ÂýÁË£¬ÀË·Ñµ¥Æ¬»úµÄ×ÊÔ´£¬ÖÐ¶ÏÊÕµ½ÏûÏ¢¼´ÊÕ¼´ÓÃ
 166   1              2.ºìÍâÖÐ¶ÏµÄ±×¶Ë £¿ÑÓ³Ùº¯ÊýÌ«¶à£¬Ã»±ØÒªÔÚµ¥Æ¬»úÖÐ¶ÏÖÐ×ö£¬¡¾ËùÒÔÎÒÃÇÔÚÖÐ¶ÏÆô¶¯½ÓÊÕ¿ªÒ»¸öÍ·£¬ºóÃæ½»¸øÍâ²¿È¥
             -×öÕû¸ö½ÓÊÕ¹¤×÷¡¿
 167   1              3.ºìÍâÒªÇódelayµÄÊ±¼ä·Ç³£¾«×¼£¬Òò´Ë²»ÄÜÓÃ×Ô¼ºÐ´µÄdelayº¯ÊýµÄ·½Ê½£¬Ö»ÄÜÓÃ¶¨Ê±Æ÷È¥¾«×¼¿ØÖÆÊ±¼ä
 168   1      
 169   1        
C51 COMPILER V9.01   MAIN                                                                  03/20/2024 01:22:19 PAGE 4   

 170   1              LCDshowStr(0,0,"IR VALUE:");
 171   1              IrInit();
 172   1              while(1){
 173   1                      if(oldIRvalue!=IrValue[4]){     //Ð´Õâ¸öforÑ­»·µÄ¶îÄ¿µÄÊÇÏû³ýÌØ³¤¼üÖµµÄÓ°Ïì£¬±ÈÈçµÚÒ»´ÎÕ¹Ê¾¼üÖµÊÇ224£¬Èç¹ûµÚ
             -¶þ´Î¼üÖµÊÇ7¾Í»á±ä³É724¡£ÈôÊÇ¼ÓÁËÕâ¸öif¾Í»á±ä³ÉÕý³£µÄ7¡£
 174   1                              InitLCD1602();
 175   1                              LCDshowStr(0,0,"IR VALUE:");
 176   1                              lcdshowInt2Str(0,1,IrValue[4]); //
 177   1                              oldIRvalue = IrValue[4];
 178   1                      }       
 179   1                                      
 180   1              } 
 181   1      */
 182   1      /*
 183   1              //²âÊÔÖÐ¼ä²ãº¯ÊýµÄ¹¦ÄÜ£¨Íê³ÉÄ£Ê½ÇÐ»»£¬Íê³É¹â±êµÄÒÆ¶¯£©------->Õý³£
 184   1              //----·¨1£º------
 185   1      
 186   1      
 187   1              while(1){
 188   1                      KeyWorkModeAdjust();//Ö»ÓÐ°´1µÄÊ±ºò²Å»á·´Ó¦,Èç¹ûÊÇµ÷ÕûÄ£Ê½£¬ÄÇÃ´¹â±êÄ¬ÈÏ³öÉúÔÚµÚÒ»ÐÐµÚÒ»ÁÐ,Ëæºó»á³öÏÖÔÚ×
             -îºóÒ»´ÎÏûÊ§µÄµØ·½     
 189   1                      delay500us();
 190   1                      KeyCursorMove();
 191   1              
 192   1              }
 193   1      
 194   1              //----·¨2£º------ Õâ¸ö·½·¨·â×°µÄ¸üºÃ£¬¶Ô¸ß²ãÖ»ÓÐÒ»¸öº¯Êý        
 195   1              InitLCD1602();
 196   1              LCDshowStr(0,0,"--new world--");
 197   1              while(1){
 198   1                      keyvalue = getKeyValue();
 199   1                      keyEventHandler();
 200   1                      keyEventHandler_delay100ms();
 201   1              }
 202   1              
 203   1      */      
 204   1                      
 205   1      //ÉÏÃæµÄÐ¡×é¼þ²âºÃ£¬·â×°ºÃÁËÖ®ºó¾Í»ã¾ÛÔÚÏÂÃæÊµÏÖ¸´ÔÓµÄ¹¦ÄÜ
 206   1              InitLCD1602();
 207   1              buzzer_init();
 208   1              LCDshowStr(0,0,"T:");
 209   1              LCDshowStr(7,0,DU);
 210   1              LCDshowStr(10,0,"Y:");
 211   1              lcdshowDouble2Str(12,0,alert_temperature_threshold);
 212   1      
 213   1      
 214   1              ds1302_write_time_struct(startTimeSet);//ÉèÖÃÊ±¼ä
 215   1              display_normal_temperature_time();
 216   1              while(1){
 217   2                      keyvalue = getKeyValue();
 218   2                      keyEventHandler(keyvalue);
 219   2                      keyEventHandler_delay400ms();
 220   2              }
 221   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    202    ----
   CONSTANT SIZE    =     17    ----
   XDATA SIZE       =   ----      15
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.01   MAIN                                                                  03/20/2024 01:22:19 PAGE 5   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
